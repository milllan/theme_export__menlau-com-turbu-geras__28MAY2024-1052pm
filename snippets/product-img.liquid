{%- liquid
  assign loop_index = loop_index | default: 0
  assign loading_priority = 'loading="lazy" fetchpriority="low"'
-%}
<div class="t4s-product-img t4s_ratio" {{ imgatt }}style="--aspect-ratioapt: {{ image.aspect_ratio | default: 1 }}">
{% comment %} 
    <img data-pr-img class="t4s-product-main-img lazyloadt4s" loading="lazy" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{ image | image_url: width: 1 }}" data-widths="[100,200,330,400,500,600,700,800,900]" data-optimumx="2" data-sizes="auto" width="{{ image.width }}" height="{{ image.height }}" alt="{{ image.alt | escape }}">
    <span class="lazyloadt4s-loader"></span>
    <div data-replace-img2></div>
    <noscript><img class="t4s-product-main-img" loading="lazy" src="{{ image | image_url: width: 600 }}" alt="{{ image.alt | escape }}"></noscript>
{% endcomment %}
{%- if loop_index == 1 -%}
	{{ image | image_url: width: image_size | image_tag: preload: true, widths: '600', alt: img_alt, class: 't4s-product-main-img', fetchpriority: 'high', decoding: 'async', loading: 'eager', sizes: '295.90000000000003px' }}
    <div data-replace-img2></div>
    <noscript>{{ image | image_url: width: 600 | image_tag: preload: true }}"></noscript>
{%- else -%}
    <img class="t4s-product-main-img" decoding="async" loading="lazy" fetchpriority="low" loopIndex="{{ loop_index }}" width="{{ image.width }}" height="{{ image.height }}" src="{{ image | image_url: width: 600 }}" alt="{{ image.alt | escape }}">
    <div data-replace-img2></div>
    <noscript>{{ image | image_url: width: 600 }}"></noscript>
{%- endif -%}
</div>